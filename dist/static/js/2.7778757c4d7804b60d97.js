webpackJsonp([2],{162:function(t,e,r){function o(t){r(354)}var n=r(72)(r(319),r(378),o,"data-v-07613bab",null);t.exports=n.exports},167:function(t,e,r){"use strict";e.__esModule=!0;var o=r(39),n=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(t){return function(){var e=t.apply(this,arguments);return new n.default(function(t,r){function o(i,a){try{var c=e[i](a),s=c.value}catch(t){return void r(t)}if(!c.done)return n.default.resolve(s).then(function(t){o("next",t)},function(t){o("throw",t)});t(s)}return o("next")})}}},168:function(t,e,r){"use strict";e.__esModule=!0;var o=r(76),n=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=n.default||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}},169:function(t,e,r){t.exports=r(170)},170:function(t,e,r){var o=function(){return this}()||Function("return this")(),n=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,i=n&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,t.exports=r(171),n)o.regeneratorRuntime=i;else try{delete o.regeneratorRuntime}catch(t){o.regeneratorRuntime=void 0}},171:function(t,e){!function(e){"use strict";function r(t,e,r,o){var i=e&&e.prototype instanceof n?e:n,a=Object.create(i.prototype),c=new d(o||[]);return a._invoke=u(t,r,c),a}function o(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function n(){}function i(){}function a(){}function c(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(t){function e(r,n,i,a){var c=o(t[r],t,n);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&g.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(u).then(function(t){s.value=t,i(s)},a)}a(c.arg)}function r(t,r){function o(){return new Promise(function(o,n){e(t,r,o,n)})}return n=n?n.then(o,o):o()}var n;this._invoke=r}function u(t,e,r){var n=k;return function(i,a){if(n===E)throw new Error("Generator is already running");if(n===L){if("throw"===i)throw a;return p()}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var s=l(c,r);if(s){if(s===j)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===k)throw n=L,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=E;var u=o(t,e,r);if("normal"===u.type){if(n=r.done?L:_,u.arg===j)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=L,r.method="throw",r.arg=u.arg)}}}function l(t,e){var r=t.iterator[e.method];if(r===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,l(t,e),"throw"===e.method))return j;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var n=o(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,j;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,j):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,j)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function h(t){if(t){var e=t[B];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(g.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=m,e.done=!0,e};return o.next=o}}return{next:p}}function p(){return{value:m,done:!0}}var m,v=Object.prototype,g=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},B=b.iterator||"@@iterator",y=b.asyncIterator||"@@asyncIterator",C=b.toStringTag||"@@toStringTag",w="object"==typeof t,x=e.regeneratorRuntime;if(x)return void(w&&(t.exports=x));x=e.regeneratorRuntime=w?t.exports:{},x.wrap=r;var k="suspendedStart",_="suspendedYield",E="executing",L="completed",j={},O={};O[B]=function(){return this};var q=Object.getPrototypeOf,D=q&&q(q(h([])));D&&D!==v&&g.call(D,B)&&(O=D);var S=a.prototype=n.prototype=Object.create(O);i.prototype=S.constructor=a,a.constructor=i,a[C]=i.displayName="GeneratorFunction",x.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},x.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,C in t||(t[C]="GeneratorFunction")),t.prototype=Object.create(S),t},x.awrap=function(t){return{__await:t}},c(s.prototype),s.prototype[y]=function(){return this},x.AsyncIterator=s,x.async=function(t,e,o,n){var i=new s(r(t,e,o,n));return x.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},c(S),S[C]="Generator",S[B]=function(){return this},S.toString=function(){return"[object Generator]"},x.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var o=e.pop();if(o in t)return r.value=o,r.done=!1,r}return r.done=!0,r}},x.values=h,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,o){return i.type="throw",i.arg=t,r.next=e,o&&(r.method="next",r.arg=m),!!o}if(this.done)throw t;for(var r=this,o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],i=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var a=g.call(n,"catchLoc"),c=g.call(n,"finallyLoc");if(a&&c){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(a){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&g.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var i=n?n.completion:{};return i.type=t,i.arg=e,n?(this.method="next",this.next=n.finallyLoc,j):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),j},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),j}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var n=o.arg;A(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:h(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=m),j}}}(function(){return this}()||Function("return this")())},172:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(74);e.default={props:["book"],data:function(){return{}},computed:{latelyFollower:function(){return(this.book.latelyFollower/1e4).toFixed(1)},imgUrl:function(){return o.a+this.book.cover}},methods:{toBook:function(){this.$router.push("/book/"+this.book._id)}}}},173:function(t,e,r){e=t.exports=r(156)(!0),e.push([t.i,"img[data-v-cc391e42]{width:5rem;height:6.25rem;float:left;margin-right:.5rem}li[data-v-cc391e42]{margin-left:1.25rem;margin-right:1.25rem;border-bottom:1px solid #e6dbdb;padding-bottom:.25rem;padding-top:.25rem}li[data-v-cc391e42]:active,li[data-v-cc391e42]:focus{background:#f2f2f2}.book-info[data-v-cc391e42]{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:6.25rem;padding-left:6.25rem;padding-top:.2rem;padding-bottom:.2rem}.book-title[data-v-cc391e42]{font-weight:700}.short-intro[data-v-cc391e42]{color:#655555;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.book-author[data-v-cc391e42]{color:#655555}.book-info p[data-v-cc391e42]{margin-bottom:0;margin-top:0;font-size:.875rem;line-height:1.5rem}","",{version:3,sources:["/Users/front/Desktop/book/src/pages/book/BookList.vue"],names:[],mappings:"AACA,qBACE,WAAY,AACZ,eAAgB,AAChB,WAAY,AACZ,kBAAqB,CACtB,AACD,oBACE,oBAAqB,AACrB,qBAAsB,AACtB,gCAAiC,AACjC,sBAAwB,AACxB,kBAAqB,CACtB,AACD,qDAEE,kBAAoB,CACrB,AACD,4BACE,8BAA+B,AACvB,sBAAuB,AAC/B,WAAY,AACZ,eAAgB,AAChB,qBAAsB,AACtB,kBAAoB,AACpB,oBAAuB,CACxB,AACD,6BACE,eAAkB,CACnB,AACD,8BACE,cAAe,AACf,gBAAiB,AACjB,uBAAwB,AACxB,kBAAoB,CACrB,AACD,8BACE,aAAe,CAChB,AACD,8BACE,gBAAiB,AACjB,aAAc,AACd,kBAAoB,AACpB,kBAAoB,CACrB",file:"BookList.vue",sourcesContent:["\nimg[data-v-cc391e42] {\n  width: 5rem;\n  height: 6.25rem;\n  float: left;\n  margin-right: 0.5rem;\n}\nli[data-v-cc391e42] {\n  margin-left: 1.25rem;\n  margin-right: 1.25rem;\n  border-bottom: 1px solid #e6dbdb;\n  padding-bottom: 0.25rem;\n  padding-top: 0.25rem;\n}\nli[data-v-cc391e42]:active,\nli[data-v-cc391e42]:focus {\n  background: #f2f2f2;\n}\n.book-info[data-v-cc391e42] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 100%;\n  height: 6.25rem;\n  padding-left: 6.25rem;\n  padding-top: 0.2rem;\n  padding-bottom: 0.2rem;\n}\n.book-title[data-v-cc391e42] {\n  font-weight: bold;\n}\n.short-intro[data-v-cc391e42] {\n  color: #655555;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.book-author[data-v-cc391e42] {\n  color: #655555;\n}\n.book-info p[data-v-cc391e42] {\n  margin-bottom: 0;\n  margin-top: 0;\n  font-size: 0.875rem;\n  line-height: 1.5rem;\n}\n"],sourceRoot:""}])},174:function(t,e,r){var o=r(173);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);r(157)("4b2f7835",o,!0,{})},302:function(t,e,r){function o(t){r(174)}var n=r(72)(r(172),r(303),o,"data-v-cc391e42",null);t.exports=n.exports},303:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{on:{click:function(e){return t.toBook()}}},[r("img",{attrs:{src:t.imgUrl}}),t._v(" "),r("div",{staticClass:"book-info"},[r("p",{staticClass:"book-title"},[t._v(t._s(t.book.title))]),t._v(" "),r("p",{staticClass:"book-author"},[t._v(t._s(t.book.author)+" | "+t._s(t.book.cat))]),t._v(" "),r("p",{staticClass:"short-intro"},[t._v(t._s(t.book.shortIntro))]),t._v(" "),r("p",{staticClass:"reader-info"},[t._v(t._s(t.latelyFollower)+"万人气 | "+t._s(t.book.retentionRatio)+"%读者留存")])])])},staticRenderFns:[]}},305:function(t,e,r){t.exports={default:r(307),__esModule:!0}},306:function(t,e,r){"use strict";e.__esModule=!0;var o=r(305),n=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,n.default)(t)}},307:function(t,e,r){r(43),r(309),t.exports=r(2).Array.from},308:function(t,e,r){"use strict";var o=r(4),n=r(18);t.exports=function(t,e,r){e in t?o.f(t,e,n(0,r)):t[e]=r}},309:function(t,e,r){"use strict";var o=r(17),n=r(7),i=r(42),a=r(80),c=r(79),s=r(41),u=r(308),l=r(84);n(n.S+n.F*!r(81)(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,n,f,A=i(t),d="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,m=void 0!==p,v=0,g=l(A);if(m&&(p=o(p,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&c(g))for(e=s(A.length),r=new d(e);e>v;v++)u(r,v,m?p(A[v],v):A[v]);else for(f=g.call(A),r=new d;!(n=f.next()).done;v++)u(r,v,m?a(f,p,[n.value,v],!0):n.value);return r.length=v,r}})},319:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(306),n=r.n(o),i=r(169),a=r.n(i),c=r(167),s=r.n(c),u=r(168),l=r.n(u),f=r(75),A=r(302),d=r.n(A),h=r(40),p=(r.n(h),r(73));e.default={data:function(){return{major:"",gender:"",type:"hot",minor:"",mins:null,majorSelected:0,minorSelected:0,currentPage:1,books:[],types:[{type:"hot",name:"热门"},{type:"new",name:"新书"},{type:"reputation",name:"好评"},{type:"over",name:"完结"},{type:"monthly",name:"包月"}]}},components:{BookList:d.a},methods:l()({},r.i(p.c)(["SET_BACK_POSITION"]),{getNovelListByCat:function(t,e,o,n){var i=this;return s()(a.a.mark(function c(){var s;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,h.Indicator.open("加载中"),a.next=4,r.i(f.f)(t,e,o,n);case 4:s=a.sent,h.Indicator.close(),i.books=s.books,a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}},c,i,[[0,9]])}))()},loadTop:function(){this.getNovelListByCat(this.gender,this.type,this.major,this.minor),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){var t=this;return s()(a.a.mark(function e(){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.Indicator.open("加载中"),console.log(1),e.next=5,r.i(f.f)(t.gender,t.type,t.major,t.minor,20*t.currentPage);case 5:o=e.sent,t.books=[].concat(n()(t.books),n()(o.books)),t.currentPage++,h.Indicator.close(),t.$refs.loadmore.onBottomLoaded(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()},setType:function(t,e){var o=this;return s()(a.a.mark(function n(){var i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.majorSelected=e,o.type=t,n.next=4,r.i(f.f)(o.gender,o.type,o.major,o.minor);case 4:i=n.sent,o.books=i.books;case 6:case"end":return n.stop()}},n,o)}))()},setMinor:function(t,e){var o=this;return s()(a.a.mark(function n(){var i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.minorSelected=e,o.minor=t,n.next=4,r.i(f.f)(o.gender,o.type,o.major,o.minor);case 4:i=n.sent,o.books=i.books;case 6:case"end":return n.stop()}},n,o)}))()}}),beforeRouteEnter:function(t,e,o){o(function(t){t.major=t.$route.query.major,t.gender=t.$route.query.gender,r.i(f.g)().then(function(e){e[t.$route.query.gender].forEach(function(e){e.major===t.$route.query.major&&(t.mins=e.mins)})}),t.getNovelListByCat(t.$route.query.gender,t.type,t.$route.query.major),t.SET_BACK_POSITION("分类")})}}},341:function(t,e,r){e=t.exports=r(156)(!0),e.push([t.i,".select[data-v-07613bab]{position:fixed;top:2.5rem;left:0;background:#fff;z-index:10}.select-bar[data-v-07613bab]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;border-bottom:1px solid #f2f2f2;overflow-x:auto;overflow-y:hidden;width:100vw;height:2.56rem;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.select-bar li[data-v-07613bab]{-ms-flex-negative:0;flex-shrink:0;line-height:2.56rem;padding-left:.75rem;padding-right:.75rem;font-size:.875rem}.select-bar .active[data-v-07613bab]{color:#26a2ff}.bookList[data-v-07613bab]{width:100vw;background:#f2f2f2}.loadmore[data-v-07613bab]{margin-top:7.625rem}","",{version:3,sources:["/Users/front/Desktop/book/src/pages/category/BookCatDetail.vue"],names:[],mappings:"AACA,yBACE,eAAgB,AAChB,WAAY,AACZ,OAAQ,AACR,gBAAiB,AACjB,UAAY,CACb,AACD,6BACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,gCAAiC,AACjC,gBAAiB,AACjB,kBAAmB,AACnB,YAAa,AACb,eAAgB,AAChB,qBAAsB,AAClB,iBAAkB,AACtB,uBAAwB,AACpB,oBAAqB,AACjB,0BAA4B,CACrC,AACD,gCACI,oBAAqB,AACjB,cAAe,AACnB,oBAAqB,AACrB,oBAAsB,AACtB,qBAAuB,AACvB,iBAAoB,CACvB,AACD,qCACI,aAAe,CAClB,AACD,2BACE,YAAa,AACb,kBAAoB,CACrB,AACD,2BACE,mBAAqB,CACtB",file:"BookCatDetail.vue",sourcesContent:["\n.select[data-v-07613bab] {\n  position: fixed;\n  top: 2.5rem;\n  left: 0;\n  background: #fff;\n  z-index: 10;\n}\n.select-bar[data-v-07613bab] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  border-bottom: 1px solid #f2f2f2;\n  overflow-x: auto;\n  overflow-y: hidden;\n  width: 100vw;\n  height: 2.56rem;\n  -ms-flex-wrap: nowrap;\n      flex-wrap: nowrap;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n.select-bar li[data-v-07613bab] {\n    -ms-flex-negative: 0;\n        flex-shrink: 0;\n    line-height: 2.56rem;\n    padding-left: 0.75rem;\n    padding-right: 0.75rem;\n    font-size: 0.875rem;\n}\n.select-bar .active[data-v-07613bab] {\n    color: #26a2ff;\n}\n.bookList[data-v-07613bab] {\n  width: 100vw;\n  background: #f2f2f2;\n}\n.loadmore[data-v-07613bab] {\n  margin-top: 7.625rem;\n}\n"],sourceRoot:""}])},354:function(t,e,r){var o=r(341);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);r(157)("598efe6c",o,!0,{})},378:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("mt-header",{attrs:{fixed:"",title:t.major}},[r("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[r("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1)],1),t._v(" "),r("div",{staticClass:"select"},[r("ul",{staticClass:"select-bar"},t._l(t.types,function(e,o){return r("v-touch",{key:o,class:{active:o===t.majorSelected},attrs:{tag:"li"},on:{tap:function(r){return t.setType(e.type,o)}}},[t._v(t._s(e.name))])}),1),t._v(" "),t.mins?r("ul",{staticClass:"select-bar"},[r("li",[t._v("全部")]),t._v(" "),t._l(t.mins,function(e,o){return r("v-touch",{key:o,class:{active:o===t.minorSelected},attrs:{tag:"li"},on:{tap:function(r){return t.setMinor(e,o)}}},[t._v(t._s(e))])})],2):t._e()]),t._v(" "),r("mt-loadmore",{ref:"loadmore",staticClass:"loadmore",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"auto-fill":!1}},[r("ul",{staticClass:"bookList"},t._l(t.books,function(t){return r("BookList",{key:t._id,attrs:{book:t}})}),1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=2.7778757c4d7804b60d97.js.map